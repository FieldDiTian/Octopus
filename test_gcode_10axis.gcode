; ===================================================================
; Marlin 10轴测试 G-code - BIGTREETECH Octopus MAX EZ
; 测试所有轴: X, Y, Z, U, V, W, I, J, K, E0
; 生成日期: 2025-10-03
; ===================================================================

; 初始化设置
M117 Starting 10-axis test...
G21 ; 设置单位为毫米
G90 ; 绝对坐标模式
M82 ; 挤出机绝对坐标模式

; ===================================================================
; 第1部分: 单轴测试 - 每个轴单独移动
; ===================================================================
M117 Testing individual axes...

; X轴测试 (Motor 1)
M117 Testing X axis (Motor 1)
G28 X ; 归位X轴
G1 X10 F1200 ; X轴正方向移动10mm
G4 P1000 ; 等待1秒
G1 X0 F1200 ; 返回原点
G4 P1000

; Y轴测试 (Motor 2)
M117 Testing Y axis (Motor 2)
G28 Y ; 归位Y轴
G1 Y10 F1200 ; Y轴正方向移动10mm
G4 P1000
G1 Y0 F1200 ; 返回原点
G4 P1000

; Z轴测试 (Motor 3)
M117 Testing Z axis (Motor 3)
G28 Z ; 归位Z轴
G1 Z5 F600 ; Z轴正方向移动5mm (较慢速度)
G4 P1000
G1 Z0 F600 ; 返回原点
G4 P1000

; U轴测试 (Motor 4)
M117 Testing U axis (Motor 4)
G1 U10 F1200 ; U轴正方向移动10mm
G4 P1000
G1 U0 F1200 ; 返回原点
G4 P1000

; V轴测试 (Motor 5)
M117 Testing V axis (Motor 5)
G1 V10 F1200 ; V轴正方向移动10mm
G4 P1000
G1 V0 F1200 ; 返回原点
G4 P1000

; W轴测试 (Motor 6)
M117 Testing W axis (Motor 6)
G1 W10 F1200 ; W轴正方向移动10mm
G4 P1000
G1 W0 F1200 ; 返回原点
G4 P1000

; I轴测试 (Motor 7)
M117 Testing I axis (Motor 7)
G1 I10 F1200 ; I轴正方向移动10mm
G4 P1000
G1 I0 F1200 ; 返回原点
G4 P1000

; J轴测试 (Motor 8)
M117 Testing J axis (Motor 8)
G1 J10 F1200 ; J轴正方向移动10mm
G4 P1000
G1 J0 F1200 ; 返回原点
G4 P1000

; K轴测试 (Motor 9)
M117 Testing K axis (Motor 9)
G1 K10 F1200 ; K轴正方向移动10mm
G4 P1000
G1 K0 F1200 ; 返回原点
G4 P1000

; E0轴测试 (Motor 10 - 挤出机)
M117 Testing E0 axis (Motor 10)
G1 E5 F300 ; 挤出机正转5mm (较慢速度)
G4 P1000
G1 E0 F300 ; 返回原点
G4 P1000

; ===================================================================
; 第2部分: 多轴协调测试
; ===================================================================
M117 Testing multi-axis coordination...

; 所有线性轴同时移动测试
G1 X5 Y5 Z2 U5 V5 W5 I5 J5 K5 F800
G4 P2000
G1 X0 Y0 Z0 U0 V0 W0 I0 J0 K0 F800
G4 P2000

; XYZ轴协调测试 (传统3D打印轴)
M117 XYZ coordination test
G1 X10 Y10 Z3 F1000
G1 X20 Y10 Z3 F1000
G1 X20 Y20 Z3 F1000
G1 X10 Y20 Z3 F1000
G1 X10 Y10 Z3 F1000
G1 X0 Y0 Z0 F1000

; 额外轴协调测试 (UVWIJK)
M117 Additional axes coordination
G1 U5 V5 W5 F800
G1 I5 J5 K5 F800
G1 U10 V10 W10 I10 J10 K10 F800
G1 U0 V0 W0 I0 J0 K0 F800

; ===================================================================
; 第3部分: 速度测试
; ===================================================================
M117 Speed testing...

; 低速测试
G1 X15 F300 ; 300mm/min
G1 X0 F300

; 中速测试
G1 Y15 F1200 ; 1200mm/min
G1 Y0 F1200

; 高速测试 (谨慎使用)
G1 Z8 F100 ; Z轴较慢
G1 Z0 F100

; ===================================================================
; 第4部分: 精度测试
; ===================================================================
M117 Precision testing...

; 小步长精度测试
G1 X1 F600
G1 X2 F600
G1 X3 F600
G1 X4 F600
G1 X5 F600
G1 X0 F600

; 微步测试
G1 Y0.1 F300
G1 Y0.2 F300
G1 Y0.3 F300
G1 Y0.4 F300
G1 Y0.5 F300
G1 Y0 F300

; ===================================================================
; 第5部分: 往返测试 (检测背隙)
; ===================================================================
M117 Backlash testing...

; X轴往返测试
G1 X20 F1000
G1 X0 F1000
G1 X20 F1000
G1 X0 F1000

; 各轴往返测试
G1 U15 F800
G1 U0 F800
G1 V15 F800
G1 V0 F800
G1 W15 F800
G1 W0 F800

; ===================================================================
; 第6部分: 复合运动测试
; ===================================================================
M117 Complex motion patterns...

; 圆形运动测试 (XY平面)
G2 X10 Y0 I5 J0 F600 ; 顺时针圆弧
G2 X0 Y0 I-5 J0 F600
G4 P1000

; 螺旋运动测试
G1 X5 Y5 Z1 U2 V2 F800
G1 X10 Y10 Z2 U4 V4 F800
G1 X15 Y5 Z3 U6 V6 F800
G1 X10 Y0 Z4 U8 V8 F800
G1 X5 Y5 Z5 U10 V10 F800
G1 X0 Y0 Z0 U0 V0 F800

; ===================================================================
; 第7部分: 挤出机专项测试
; ===================================================================
M117 Extruder testing...

; 挤出机正转测试
G1 E10 F180 ; 慢速正转
G4 P2000
G1 E0 F180 ; 回转

; 挤出机变速测试
G1 E5 F60  ; 很慢
G1 E10 F120 ; 中等
G1 E15 F240 ; 较快
G1 E0 F180  ; 回转

; ===================================================================
; 第8部分: 综合运动测试
; ===================================================================
M117 Final comprehensive test...

; 所有轴协调运动
G1 X10 Y10 Z5 U8 V8 W8 I6 J6 K6 E3 F600
G4 P2000
G1 X20 Y5 Z10 U16 V16 W16 I12 J12 K12 E6 F600
G4 P2000
G1 X5 Y20 Z15 U24 V24 W24 I18 J18 K18 E9 F600
G4 P2000

; 回到原点
G1 X0 Y0 Z0 U0 V0 W0 I0 J0 K0 E0 F800
G4 P2000

; ===================================================================
; 测试完成
; ===================================================================
M117 10-axis test completed!
M400 ; 等待所有运动完成
M84  ; 关闭所有电机

; 测试报告提示
M117 Check all motors moved correctly

; ===================================================================
; 测试说明:
; 1. 观察每个电机是否在相应命令时转动
; 2. 检查运动方向是否正确
; 3. 监听异常声音
; 4. 确认没有碰撞或卡住
; 5. 验证所有轴都能回到原点
;
; 安全提示:
; - 首次运行时请降低速度
; - 确保所有轴都有足够的运动空间
; - 准备紧急停止按钮
; - 监控电机温度
; ===================================================================